<!doctype html><html lang=en><head><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1" name=viewport><meta content=#121212 name=theme-color><meta content=nositelinkssearchbox name=google><meta content=notranslate name=googlebot><title>SearProxy - Friedemann Sommer</title><meta content="A SearX / SearXNG compatible web content sanitizer proxy" name=description><link href=https://www.friedemannsommer.com/atom.xml rel=alternate title=RSS type=application/atom+xml><link href=https://www.friedemannsommer.com/sitemap.xml rel=sitemap title=Sitemap type=text/xml><link as=font crossorigin=anonymous href=https://www.friedemannsommer.com/Tiresias-Infofont/webfont.woff2 rel=preload type=font/woff2><style>@font-face {
            font-family: 'tiresias_infofont_regular';
            src: url(https://www.friedemannsommer.com/Tiresias-Infofont/webfont.woff2) format('woff2'),
            url(https://www.friedemannsommer.com/Tiresias-Infofont/webfont.woff) format('woff'),
            url(https://www.friedemannsommer.com/Tiresias-Infofont/webfont.ttf) format('truetype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }</style><style>*,*::before,*::after{box-sizing:border-box}body,h1,h2,h3,h4,p,figure,blockquote,dl,dd{margin:0}ul[role='list'],ol[role='list']{list-style:none}html:focus-within{scroll-behavior:smooth}body{min-height:100vh;text-rendering:optimizeSpeed;line-height:1.5}a:not([class]){text-decoration-skip-ink:auto}img,picture{max-width:100%;display:block}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){html:focus-within{scroll-behavior:auto}*,*::before,*::after{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important;scroll-behavior:auto !important}}*:focus{outline:dashed #80003A 0.2rem}html,body{margin:0;padding:0;background-color:#121212;color:#fff;line-height:1.5em;font-weight:normal;font-family:"tiresias_infofont_regular", sans-serif;height:100%;width:100%}body>.container{display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-content:stretch;-ms-flex-line-pack:stretch;align-content:stretch;-webkit-align-items:center;-ms-flex-align:center;align-items:center;min-height:calc(100% - 3em);padding:0 1em}body>header{width:100%;background-color:rgba(255,255,255,0.15);margin:0 0 1em 0}body>header nav{line-height:2em}h1,h2,h3{font-size:1em;line-height:1.5em;margin:0;padding:0;text-align:center}h1{font-size:2em}h2{font-size:1.5em}hr{width:100%;border:1px solid rgba(255,255,255,0.15)}a{color:#32cb00;text-decoration:none;display:inline-block;padding:0 0.25rem}a.active,a:hover{color:#fff;background-color:#80003A}pre{margin:0 0 1rem;padding:1rem;text-align:justify;white-space:pre-wrap;word-wrap:break-word;font-family:monospace}blockquote{border-left:0.25rem solid #fff;padding-left:1rem}.hidden{display:none}.flexbox{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-box-direction:normal;-moz-box-direction:normal;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-content:stretch;-ms-flex-line-pack:stretch;align-content:stretch}.flexbox-horizontal{-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-moz-box-pack:justify;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:start;-moz-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.flexbox-vertical{-webkit-box-orient:vertical;-moz-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-moz-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.flexbox>*{-webkit-box-flex:0;-moz-box-flex:0;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;-webkit-align-self:auto;align-self:auto}.pages{max-width:75vw}.pages article{padding:0.5em}ul{list-style-type:none;margin:0;padding:0}ul.tags>li{display:inline-block;margin:0 4px}ul.tags>li a{background-color:#32cb00;color:#121212}ul.tags>li a:hover{background-color:#80003A;color:#fff}code[data-lang]{background-color:unset !important}code[data-lang]>*{background-color:unset !important}article header>section.meta p{padding:0 0.5em 0 0}article header>section.meta p:last-child{padding:0}article>section{max-width:calc(85 * 1em)}article>section p,article>section ul{margin:0 0 1em 0}article nav.toc ul{list-style-type:disc}article nav.toc>ul ul{padding:0 0 0 1em}</style><body><header><nav aria-label=Main role=navigation><ul class="flexbox flexbox-horizontal"><li itemscope itemtype=https://schema.org/SiteNavigationElement><a href=https://www.friedemannsommer.com/ itemprop=url> <span itemprop=name>Home</span> </a><li itemscope itemtype=https://schema.org/SiteNavigationElement><a href=https://www.friedemannsommer.com/blog/ itemprop=url> <span itemprop=name>Blog</span> </a><li itemscope itemtype=https://schema.org/SiteNavigationElement><a class=active href=https://www.friedemannsommer.com/projects/ itemprop=url> <span itemprop=name>Projects</span> </a><li itemscope itemtype=https://schema.org/SiteNavigationElement><a href=https://www.friedemannsommer.com/contact/ itemprop=url> <span itemprop=name>Contact</span> </a></ul></nav></header><div class=container><article class="flexbox flexbox-vertical" itemscope itemtype=https://schema.org/WebPage><header><h1 itemprop=name>SearProxy</h1></header><hr><section itemprop=text><p>A <a rel="noopener nofollow noreferrer" title="SearX - GitHub" href=https://github.com/searx/searx target=_blank>SearX</a> / <a rel="noopener nofollow noreferrer" title="SearXNG - GitHub" href=https://github.com/searxng/searxng target=_blank>SearXNG</a> compatible web content sanitizer proxy, which is heavily inspired by <a rel="noopener nofollow noreferrer" title="Morty - GitHub" href=https://github.com/asciimoo/morty target=_blank>Morty</a>.<p>I've created this project since I wanted a stricter sanitation proxy which still allows some modern features such as: <code>&LTvideo></code>, <code>&LTaudio></code>, <code>&LTpicture></code>, and <code>&LTsource></code>. To prevent leakage through unknown or unexpected resource links, this project also uses a <a rel="noopener nofollow noreferrer" title="Content Security Policy - MDN" href=https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP target=_blank>Content Security Policy</a> which allows only itself. Like <a rel="noopener nofollow noreferrer" title="Morty - GitHub" href=https://github.com/asciimoo/morty target=_blank>Morty</a> it also supports an HTTP or SOCKS5 proxy to tunnel the outgoing traffic. But unlike <a rel="noopener nofollow noreferrer" title="Morty - GitHub" href=https://github.com/asciimoo/morty target=_blank>Morty</a> it requires a HMAC secret to validate the given URL and does not allow direct URL opening.<p>This project currently has the following features:<ul><li>HTML sanitization (<code>&LTapplet></code>, <code>&LTcanvas></code>, <code>&LTembed></code>)<li>Resource reference rewrite<li>JavaScript blocking (<code>&LTscript></code>, <code>on*="code"</code>)<li>No cookies, caching, or referrers<li>HTML <code>&LTform></code> with <code>GET</code> or <code>POST</code><li>HTML <code>&LTimg></code> async decoding and optionally "lazy" loading<li>HTML <code>&LTiframe></code>, <code>&LTvideo></code>, <code>&LTaudio></code></ul><p>To use it for <a rel="noopener nofollow noreferrer" title="SearX - GitHub" href=https://github.com/searx/searx target=_blank>SearX</a> or <a rel="noopener nofollow noreferrer" title="SearXNG - GitHub" href=https://github.com/searxng/searxng target=_blank>SearXNG</a> define a <code>result_proxy</code> section within the <code>settings.yml</code>. Inside this section define a <code>url</code> with the public base URL to this service and a <code>key</code> which is the <a rel="noopener nofollow noreferrer" title="HMAC - Wikiless" href=https://wikiless.org/wiki/HMAC target=_blank>HMAC</a> secret that's used to validate the given URL. This project can also be used as image proxy if <code>server.image_proxy</code> is set to <code>false</code>. (See <a rel="noopener nofollow noreferrer" title="SearX settings.yml documentation" href=https://searx.github.io/searx/admin/settings.html#server target=_blank>SearX settings.yml</a>, <a rel="noopener nofollow noreferrer" title="SearXNG settings.yml documentation" href=https://docs.searxng.org/admin/engines/settings.html#server target=_blank>SearXNG settings.yml</a>)<pre class=language-yaml data-lang=yaml style=background-color:#1e1e1e;color:#dcdcdc;><code class=language-yaml data-lang=yaml><span style=background-color:#282828;color:#569cd6;>result_proxy</span><span>:
</span><span>  </span><span style=background-color:#282828;color:#569cd6;>url</span><span>: </span><span style=background-color:#282828;color:#d69d85;>https://proxy.example.com/</span><span>
</span><span>  </span><span style=background-color:#282828;color:#569cd6;>key</span><span>: </span><span style=color:#569cd6;>!!binary </span><span style=color:#d69d85;>"hmac_secret"
</span><span>
</span><span style=background-color:#282828;color:#569cd6;>server</span><span>:
</span><span>  </span><span style=background-color:#282828;color:#569cd6;>image_proxy</span><span>: </span><span style=color:#569cd6;>false
</span></code></pre><p>Alternatively, see the documentation for the <a rel="noopener nofollow noreferrer" title="SearX result proxy documentation" href=https://searx.github.io/searx/admin/morty.html target=_blank>SearX result proxy</a> or <a rel="noopener nofollow noreferrer" title="SearXNG result proxy documentation" href=https://docs.searxng.org/admin/morty.html target=_blank>SearXNG result proxy</a>.<p>The source code for this project can be found on GitHub at <a rel="noopener nofollow noreferrer" title="SearProxy - GitHub" href=https://github.com/friedemannsommer/searproxy target=_blank>friedemannsommer/searproxy</a>.</section></article></div>