<!doctype html><html lang=en><head><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=utf-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1" name=viewport><meta content=#121212 name=theme-color><meta content=nositelinkssearchbox name=google><meta content=notranslate name=googlebot><title>SearProxy - Friedemann Sommer</title><meta content="A SearX / SearXNG compatible web content sanitizer proxy" name=description><link title="Atom feed" href=https://www.friedemannsommer.com/atom.xml rel=alternate type=application/atom+xml><link title="RSS feed" href=https://www.friedemannsommer.com/rss.xml rel=alternate type=application/rss+xml><link href=https://www.friedemannsommer.com/sitemap.xml rel=sitemap title=Sitemap type=text/xml><style>@font-face{font-family:Open Sans;font-display:swap;font-style:normal;font-weight:700;src:local(Open Sans),local(OpenSans),url(https://www.friedemannsommer.com/open-sans/v34-latin-700.woff2)format("woff2"),url(https://www.friedemannsommer.com/open-sans/v34-latin-700.woff)format("woff"),url(https://www.friedemannsommer.com/open-sans/v34-latin-700.ttf)format("truetype")}</style><link href="https://www.friedemannsommer.com/site.css?h=237ed26d054f9744bf8d" rel=stylesheet><link href="https://www.friedemannsommer.com/print.css?h=6edcbeeec74a8f6b40b8" media=print rel=stylesheet><body><header><nav aria-label=Main role=navigation><ul class="flexbox flexbox-horizontal"><li itemscope itemtype=https://schema.org/SiteNavigationElement><a href=https://www.friedemannsommer.com/ itemprop=url> <span itemprop=name>Home</span> </a><li itemscope itemtype=https://schema.org/SiteNavigationElement><a href=https://www.friedemannsommer.com/blog/ itemprop=url> <span itemprop=name>Blog</span> </a><li itemscope itemtype=https://schema.org/SiteNavigationElement><a class=active href=https://www.friedemannsommer.com/projects/ itemprop=url> <span itemprop=name>Projects</span> </a><li itemscope itemtype=https://schema.org/SiteNavigationElement><a href=https://www.friedemannsommer.com/contact/ itemprop=url> <span itemprop=name>Contact</span> </a></ul></nav></header><div class=container><article class="flexbox flexbox-vertical" itemscope itemtype=https://schema.org/WebPage><header><h1 itemprop=name>SearProxy</h1></header><hr><section itemprop=text><p>A <a rel="noopener nofollow noreferrer" title="SearX - GitHub" href=https://github.com/searx/searx target=_blank>SearX</a> / <a rel="noopener nofollow noreferrer" title="SearXNG - GitHub" href=https://github.com/searxng/searxng target=_blank>SearXNG</a> compatible web content sanitizer proxy, which is heavily inspired by <a rel="noopener nofollow noreferrer" title="Morty - GitHub" href=https://github.com/asciimoo/morty target=_blank>Morty</a>.<p>I've created this project since I wanted a stricter sanitation proxy which still allows some modern features such as: <code>&LTvideo></code>, <code>&LTaudio></code>, <code>&LTpicture></code>, and <code>&LTsource></code>. To prevent leakage through unknown or unexpected resource links, this project also uses a <a rel="noopener nofollow noreferrer" title="Content Security Policy - MDN" href=https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP target=_blank>Content Security Policy</a> which allows only itself. Like <a rel="noopener nofollow noreferrer" title="Morty - GitHub" href=https://github.com/asciimoo/morty target=_blank>Morty</a> it also supports an HTTP or SOCKS5 proxy to tunnel the outgoing traffic. But unlike <a rel="noopener nofollow noreferrer" title="Morty - GitHub" href=https://github.com/asciimoo/morty target=_blank>Morty</a> it requires a HMAC secret to validate the given URL and does not allow direct URL opening.<p>This project currently has the following features:<ul><li>HTML sanitization (<code>&LTapplet></code>, <code>&LTcanvas></code>, <code>&LTembed></code>)<li>Resource reference rewrite<li>JavaScript blocking (<code>&LTscript></code>, <code>on*="code"</code>)<li>No cookies, caching, or referrers<li>HTML <code>&LTform></code> with <code>GET</code> or <code>POST</code><li>HTML <code>&LTimg></code> async decoding and optionally "lazy" loading<li>HTML <code>&LTiframe></code>, <code>&LTvideo></code>, <code>&LTaudio></code></ul><p>To use it for <a rel="noopener nofollow noreferrer" title="SearX - GitHub" href=https://github.com/searx/searx target=_blank>SearX</a> or <a rel="noopener nofollow noreferrer" title="SearXNG - GitHub" href=https://github.com/searxng/searxng target=_blank>SearXNG</a> define a <code>result_proxy</code> section within the <code>settings.yml</code>. Inside this section define a <code>url</code> with the public base URL to this service and a <code>key</code> which is the <a rel="noopener nofollow noreferrer" title="HMAC - Wikipedia" href=https://en.wikipedia.org/wiki/HMAC target=_blank>HMAC</a> secret that's used to validate the given URL. This project can also be used as image proxy if <code>server.image_proxy</code> is set to <code>true</code>. (See <a rel="noopener nofollow noreferrer" title="SearX settings.yml documentation" href=https://searx.github.io/searx/admin/settings.html#server target=_blank>SearX settings.yml</a>, <a rel="noopener nofollow noreferrer" title="SearXNG settings.yml documentation" href=https://docs.searxng.org/admin/settings/settings_server.html target=_blank>SearXNG settings.yml</a>)<pre class=language-yaml data-lang=yaml style=color:#dcdcdc;background-color:#1e1e1e><code class=language-yaml data-lang=yaml><span style=color:#569cd6;background-color:#282828>result_proxy</span><span>:
</span><span>  </span><span style=color:#569cd6;background-color:#282828>url</span><span>: </span><span style=color:#d69d85;background-color:#282828>https://proxy.example.com/</span><span>
</span><span>  </span><span style=color:#569cd6;background-color:#282828>key</span><span>: </span><span style=color:#569cd6>!!binary </span><span style=color:#d69d85>"hmac_secret"
</span><span>
</span><span style=color:#569cd6;background-color:#282828>server</span><span>:
</span><span>  </span><span style=color:#569cd6;background-color:#282828>image_proxy</span><span>: </span><span style=color:#569cd6>true
</span></code></pre><p>Alternatively, see the documentation for the <a rel="noopener nofollow noreferrer" title="SearX result proxy documentation" href=https://searx.github.io/searx/admin/morty.html target=_blank>SearX result proxy</a>. (SearXNG has removed their documentation for result proxies, but still support them just like SearX.)<p>The source code for this project can be found on GitHub at <a rel="noopener nofollow noreferrer" title="SearProxy - GitHub" href=https://github.com/friedemannsommer/searproxy target=_blank>friedemannsommer/searproxy</a>.</section></article></div>